{
	"version": 2,
	"processes": [
		{
			"name": "capsule_filtering_11",
			"capsule": {
				"id": "b252f053-0776-4db0-882f-45121c541aaf",
				"name": "QC Filtering \u0026 Doublet Detection",
				"slug": "0717009",
				"version": 7
			},
			"resources": {
				"cpus": 16,
				"memory": 61,
				"gpus": 1
			},
			"inputs": [
				{
					"id": "ZK4fieQTqRXf2cTY",
					"source_id": "5e5ee663-c304-46a9-ba39-c4003cd416a5",
					"type": "dataset",
					"name": "incongruous_genes",
					"source_path": "incongruous_genes/",
					"target_path": "incongruous_genes",
					"collect": true
				},
				{
					"id": "0zTIVt84TVjtWmKX",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "GOVWgHtYfGAiECr2",
					"source_id": "51ca67b7-1e9b-4dab-8972-6f001bc6cd6c",
					"type": "dataset",
					"name": "segmented_data",
					"source_path": "segmented_data/",
					"target_path": "sections/"
				}
			]
		},
		{
			"name": "capsule_mapping_hierarchial_flat_combined_14",
			"capsule": {
				"id": "4651fd22-b43c-4a49-aad3-128959f6014a",
				"name": "Cell Type Mapping",
				"slug": "8617293",
				"version": 4
			},
			"resources": {
				"cpus": 16,
				"memory": 128
			},
			"inputs": [
				{
					"id": "azC3QkysG2CHPs7Z",
					"source_id": "capsule_filtering_11",
					"type": "capsule",
					"name": "QC Filtering \u0026 Doublet Detection"
				},
				{
					"id": "S6haM7rSqVg5Hg4C",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "UErNtRhGnnzCfEQG",
					"source_id": "4940b042-3c8e-4d28-9701-a087f9de1f3e",
					"type": "dataset",
					"name": "mapping_files",
					"source_path": "mapping_files/",
					"target_path": "markers",
					"collect": true
				}
			]
		},
		{
			"name": "capsule_add_cell_type_colors_combined_16",
			"capsule": {
				"id": "1aa84bff-d09e-4bd0-b857-46da3ebf5724",
				"name": "Add Cell Type Colors",
				"slug": "5374498",
				"version": 4
			},
			"resources": {
				"cpus": 2,
				"memory": 16
			},
			"inputs": [
				{
					"id": "IQqk00oHJF07f2nX",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "eL6EuA97ewMp2J6F",
					"source_id": "ada9bde4-502c-43e2-8e6d-517d02744905",
					"type": "dataset",
					"name": "cell_type_colors",
					"source_path": "cell_type_colors/",
					"target_path": "cell_type_colors/"
				},
				{
					"id": "cjOgg0avlvQQY0rk",
					"source_id": "capsule_combine_sections_17",
					"type": "capsule",
					"name": "Combine Sections"
				}
			]
		},
		{
			"name": "capsule_combine_sections_17",
			"capsule": {
				"id": "63183105-cbc9-4372-bbd8-a138ac1b9b16",
				"name": "Combine Sections",
				"slug": "6755013",
				"version": 4
			},
			"resources": {
				"cpus": 16,
				"memory": 42
			},
			"inputs": [
				{
					"id": "RxGPpl27AZYqPT88",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "7covEA6qpcuQPIOy",
					"source_id": "capsule_mapping_hierarchial_flat_combined_14",
					"type": "capsule",
					"name": "Mapping (Hierarchial + Flat Combined)",
					"source_path": "mapping_results/*.h5ad",
					"target_path": "mapping_results/sections/",
					"collect": true
				}
			]
		},
		{
			"name": "capsule_save_processing_results_18",
			"capsule": {
				"id": "2fcfa1ba-40ec-44fa-ba32-49b9dbc22853",
				"name": "Save Processing Results",
				"slug": "2472895",
				"version": 5
			},
			"resources": {
				"cpus": 4,
				"memory": 32
			},
			"inputs": [
				{
					"id": "Nqqo2BJ7PkCqqUas",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "2BM3WC4pXgFwI4vz",
					"source_id": "capsule_doublemad_filtering_20",
					"type": "capsule",
					"name": "DoubleMAD Filtering",
					"source_path": "*/*",
					"target_path": "*/",
					"collect": true
				}
			]
		},
		{
			"name": "capsule_doublemad_filtering_20",
			"capsule": {
				"id": "c3fa0840-df74-4c65-86a8-700f7a4d1c6f",
				"name": "DoubleMAD Mapping Filtering",
				"slug": "0020400",
				"version": 5
			},
			"resources": {
				"cpus": 16,
				"memory": 128
			},
			"inputs": [
				{
					"id": "42wr0P1VOxocbXw5",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "LzMOSHjJfx2ZAlTM",
					"source_id": "capsule_add_cell_type_colors_combined_16",
					"type": "capsule",
					"name": "Add Cell Type Colors"
				}
			]
		},
		{
			"name": "capsule_create_parameters_json_full_pipeline_21",
			"capsule": {
				"id": "c60dee66-6e1f-4221-ac34-60e3b4a4f869",
				"name": "Create Parameters JSON Full Pipeline",
				"slug": "0934608",
				"version": 6,
				"app_panel": true
			},
			"resources": {
				"cpus": 2
			},
			"results": {
				"id": "70bdfeb9-e9e7-4d75-90e9-193537ba4897",
				"source_path": "params/*"
			}
		},
		{
			"name": "capsule_leiden_clustering_rapids_23",
			"capsule": {
				"id": "9a985a2c-9ebc-47f0-a7db-2535471ea2c9",
				"name": "Leiden Clustering - RAPIDS",
				"slug": "4428961",
				"version": 4
			},
			"resources": {
				"cpus": 16,
				"memory": 61,
				"gpus": 1
			},
			"inputs": [
				{
					"id": "B0x254zR4yKvKrwi",
					"source_id": "capsule_run_staligner_json_26",
					"type": "capsule",
					"name": "Run STAligner (JSON)",
					"collect": true
				},
				{
					"id": "BDJUNjv9YrJ35uR8",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "res_params/",
					"target_path": "res_params/",
					"flatten": true
				},
				{
					"id": "kMYUCKQa79UrP9dt",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				}
			]
		},
		{
			"name": "capsule_add_spatial_cluster_labels_to_cells_multiple_resolutions_24",
			"capsule": {
				"id": "bd61be7f-e31e-4875-b793-5f50a546ba6d",
				"name": "Add Cluster Labels to Cells",
				"slug": "9960820",
				"version": 3
			},
			"resources": {
				"cpus": 4,
				"memory": 16
			},
			"inputs": [
				{
					"id": "qgDGIVjPYiDEiZ6S",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "Zuw1A2tnberblboW",
					"source_id": "capsule_save_processing_results_18",
					"type": "capsule",
					"name": "Save Processing Results",
					"target_path": "data_dir",
					"collect": true
				},
				{
					"id": "xrckxAcoHrKdyc2p",
					"source_id": "capsule_leiden_clustering_rapids_23",
					"type": "capsule",
					"name": "Leiden Clustering - RAPIDS"
				}
			]
		},
		{
			"name": "capsule_add_new_cluster_columns_25",
			"capsule": {
				"id": "b0565eb5-d16d-44a6-bf67-ea2de5362d82",
				"name": "Merge Clusters",
				"slug": "0713522",
				"version": 3
			},
			"resources": {
				"cpus": 32,
				"memory": 256
			},
			"inputs": [
				{
					"id": "KLKY3kFRSv35S5So",
					"source_id": "capsule_add_spatial_cluster_labels_to_cells_multiple_resolutions_24",
					"type": "capsule",
					"name": "Add Spatial Cluster Labels to Cells (multiple resolutions)",
					"target_path": "data_dir",
					"collect": true
				},
				{
					"id": "PWvNN8EYBzpybWCH",
					"source_id": "capsule_save_processing_results_18",
					"type": "capsule",
					"name": "Save Processing Results",
					"target_path": "data_dir",
					"collect": true
				},
				{
					"id": "iS1meQ7KuKeQ0zC6",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "vJXL5Pt9eDOlTJVh",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "res_params/",
					"target_path": "res_params",
					"collect": true
				}
			],
			"results": {
				"id": "265f4a36-3de6-4702-b561-be58cf34487c"
			}
		},
		{
			"name": "capsule_run_staligner_json_26",
			"capsule": {
				"id": "bf53e893-314f-46d9-90a3-725dc8500e96",
				"name": "Run STAligner",
				"slug": "0346501",
				"version": 2
			},
			"resources": {
				"cpus": 16,
				"memory": 64,
				"gpus": 1
			},
			"inputs": [
				{
					"id": "sR7oOYPeBQyVLFRb",
					"source_id": "capsule_downsample_spot_table_json_27",
					"type": "capsule",
					"name": "Downsample Spot Table (JSON)",
					"source_path": "downsampled/",
					"target_path": "downsampled/",
					"collect": true
				},
				{
					"id": "uFVUklUadpvLXAq9",
					"source_id": "361c4975-9e72-41fa-af33-837cf648d2d4",
					"type": "dataset",
					"name": "barcodes_csv",
					"source_path": "barcodes_csv/",
					"target_path": "barcodes",
					"collect": true
				},
				{
					"id": "f6lbiQsgjtiUAaEu",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				}
			]
		},
		{
			"name": "capsule_downsample_spot_table_json_27",
			"capsule": {
				"id": "728c54e1-a487-4376-8814-c700c57b5506",
				"name": "Downsample Spot Table",
				"slug": "0343207",
				"version": 2
			},
			"resources": {
				"cpus": 48,
				"memory": 192
			},
			"inputs": [
				{
					"id": "pQ6TqcQXXcnNs7MM",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				},
				{
					"id": "20b0yxg3lDGNShAS",
					"source_id": "capsule_dispatch_jobs_28",
					"type": "capsule",
					"name": "Dispatch Jobs",
					"target_path": "section_metadata/",
					"flatten": true
				}
			]
		},
		{
			"name": "capsule_dispatch_jobs_28",
			"capsule": {
				"id": "79ab76f4-d06c-4b4b-8a6b-f0e2d3e24755",
				"name": "Dispatch Jobs",
				"slug": "2783986",
				"version": 2
			},
			"resources": {
				"cpus": 2,
				"memory": 1
			},
			"inputs": [
				{
					"id": "toZRJ3tWauqy3oBL",
					"source_id": "361c4975-9e72-41fa-af33-837cf648d2d4",
					"type": "dataset",
					"name": "barcodes_csv",
					"source_path": "barcodes_csv/",
					"collect": true
				},
				{
					"id": "ZHq0JDYEFsdYMWnY",
					"source_id": "capsule_create_parameters_json_full_pipeline_21",
					"type": "capsule",
					"name": "Create Parameters JSON Full Pipeline",
					"source_path": "params/",
					"target_path": "params",
					"collect": true
				}
			]
		}
	]
}